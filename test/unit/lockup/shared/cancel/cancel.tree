cancel.t.sol
├── when the call is a delegate call
│  └── it should revert
└── when the call is not a delegate call
   ├── when the stream is not active
   │  ├── when the stream is null
   │  │  └── it should revert
   │  ├── when the stream is depleted
   │  │  └── it should revert
   │  └── when the stream is canceled
   │     └── it should revert
   └── when the stream is active
      ├── when the caller is unauthorized
      │  ├── when the caller is a malicious third party
      │  │  └── it should revert
      │  ├── when the caller is an approved third party
      │  │  └── it should revert
      │  └── when the caller is a former recipient
      │     └── it should revert
      └── when the caller is authorized
         ├── when the stream is not cancelable
         │  └── it should revert
         └── when the stream is cancelable
            ├── when the stream is settled
            │  └── it should revert
            └── when the stream is not settled
               ├── when the streaming has not started
               │  ├── it should cancel the stream
               │  └── it should mark the stream as depleted
               └── when the streaming has started
                  ├── when the caller is the sender
                  │  ├── when the recipient is not a contract
                  │  │  ├── it should cancel the stream
                  │  │  └── it should mark the stream as canceled
                  │  └── when the recipient is a contract
                  │     ├── when the recipient does not implement the hook
                  │     │  ├── it should cancel the stream
                  │     │  ├── it should mark the stream as canceled
                  │     │  ├── it should call the recipient hook
                  │     │  └── it should ignore the revert
                  │     └── when the recipient implements the hook
                  │        ├── when the recipient reverts
                  │        │  ├── it should cancel the stream
                  │        │  ├── it should mark the stream as canceled
                  │        │  ├── it should call the recipient hook
                  │        │  └── it should ignore the revert
                  │        └── when the recipient does not revert
                  │           ├── when there is reentrancy
                  │           │  ├── it should cancel the stream
                  │           │  ├── it should mark the stream as canceled
                  │           │  ├── it should call the recipient hook
                  │           │  └── it should ignore the revert
                  │           └── when there is no reentrancy
                  │              ├── it should cancel the stream
                  │              ├── it should mark the stream as canceled
                  │              ├── it should update the returned amount
                  │              ├── it should return the assets to the sender
                  │              ├── it should call the recipient hook
                  │              └── it should emit a {CancelLockupStream} event
                  └── when the caller is the recipient
                     ├── when the sender is not a contract
                     │  ├── it should cancel the stream
                     │  └── it should mark the stream as canceled
                     └── when the sender is a contract
                        ├── when the sender does not implement the hook
                        │  ├── it should cancel the stream
                        │  ├── it should mark the stream as canceled
                        │  ├── it should call the sender hook
                        │  └── it should ignore the revert
                        └── when the sender implements the hook
                              ├── when the sender reverts
                              │  ├── it should cancel the stream
                              │  ├── it should mark the stream as canceled
                              │  ├── it should call the sender hook
                              │  └── it should ignore the revert
                              └── when the sender does not revert
                                 ├── when there is reentrancy
                                 │  ├── it should cancel the stream
                                 │  ├── it should mark the stream as canceled
                                 │  ├── it should call the sender hook
                                 │  └── it should ignore the revert
                                 └── when there is no reentrancy
                                    ├── it should cancel the stream
                                    ├── it should mark the stream as canceled
                                    ├── it should update the returned amount
                                    ├── it should return the assets to the sender
                                    ├── it should call the sender hook
                                    └── it should emit a {CancelLockupStream} event
